---
title: "Lab 02  RMD, and some more ggplot (Yeaju Diana Kim)"
author: "Diana Kim"
date: "09/17/2025"
output:
  word_document:
    toc: true
  pdf_document:
    toc: true
  html_document:
    toc: true
    toc_float: true
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE
)
```

# PSY 503: Lab 02: R markdown, and ggplot

**09/17/2025**

For Lab 2, please carry out the following tasks. Make sure to
install/load any relevant libraries not explictly specified below. At
the end of the lab, please submit the final rmd file (important) along
with other files you generated (QMD, PDF,HTML, docx, and r)

## Q0. Setup Tasks

Install the package tinytex into your system using the following
commented command.

```{r, eval=FALSE}
#install.packages('tinytex') 
#tinytex::install_tinytex() 

#if you need to uninstall TinyTeX, run tinytex::uninstall_tinytex()
```

```{r}
library(tidyverse)
```

Tinytex, is needed for creating pdf reports via R-markdown.

## Q1. Task with YAML Header (A)

-   Edit the YAML header / metadata to reflect your name.

## Q2. Task with Markdown Formula

-   During Monday's class, we learned that the sum of squared deviations
    from mean for a given set of data SS is given by
    $$SS = \sum_{i=1}^N (\bar{X} - x_i)^2$$

-   Knowing this above definition of SS (in latex formatting),
    similarly, produce the full formula for variance below? Make sure it
    is in Bold. (Hint: Variance when we are working with a population =
    $SS/N$, and Variance of a sample is $SS/N-1$)

$$
\mathbf{SS/N = \sum_{i=1}^N (\bar{X} - x_i)^2/N}
$$

## Q3. Task with Rcode and chunks (functions)

Below is a function that computes sum of squares, and two defined
vectors

```{r}
compute_SS <- function(x) {
  n <- length(x)
  mean_x <- mean(x)
  sum_squared_diff <- sum((x - mean_x)^2)
  return(sum_squared_diff)
}

# These vectors are a sample from a population.
vector_a <- c(5, 5, 5, 5, 5)
vector_b <- c(1, 3, 5, 7, 9)
```

Create a new R chunk below (shortcut = Option + CMD + I), and use the
defined function to calculate the variance of both vector_a, and
vector_b. Print them

```{r}
compute_SS(vector_a)
compute_SS(vector_b)
```

## Q4. Descriptives (dplyr) and Visualization tasks

In the previous lab, we worked with a data from DataSaurus. We
visualized y against x for different values of the column named
*"dataset"*. Now, carry out this visualization but with the following
changes.

a.  show all the different visualizations within a single graph using
    *facets* in ggplot

b.  make sure that each dataset is colored differently

c.  great, now a journal has accepted your work for publication. but
    they charge \$10,000 for colored graphs. to save your lab some
    resources, redo the graph so that the colors are different shades of
    grey. (Hint: look at *scale_colour_grey*)

d.  you realize that given so many different conditions/datasets, it's a
    bit harder to map the color to condition. to make it easy for the
    reader and to be robust against bad print quality, change the shape
    of the plotted points based on the condition. (Hint: try
    scale_shape_manual(values=c(3, 16, 17)) or choose an appropriate
    shape palette)

e.  out of curiosity, you also create a new plot in a different
    direction: this doesn't plot data points for each condition but just
    creates a boxplot for each dataset (no need to facet). what does
    this plot look like? => a pile of boxes.. it looks quite messy

```{r}
library(datasauRus)
lab2_datasaurus<- datasaurus_dozen

# a, b
ggplot(lab2_datasaurus, aes(x = x, y = y, color = dataset)) +
  geom_point() +
  facet_wrap(~ dataset)

# c
ggplot(lab2_datasaurus, aes(x = x, y = y, color = dataset)) +
  geom_point() +
  facet_wrap(~ dataset) +
  scale_colour_grey()

# d
ggplot(lab2_datasaurus, aes(x = x, y = y, shape = dataset)) +
  geom_point() +
  facet_wrap(~ dataset) +
  scale_shape_manual(values=c(1:13))

# e
ggplot(lab2_datasaurus, aes(x = x, y = y, group = dataset)) +
  geom_boxplot()

```

You've learned that looking at the data is important. But summary
statistics can be useful too. The following dplyr-based code computes
the mean of `lab2_datasaurus` for each dataset within it, for the
variable x and stores it into a new dataframe.

```{r}
mean_datasaurus <- lab2_datasaurus %>% 
    group_by(dataset) %>% 
    summarize(
      mean_x    = mean(x)
    )

print (mean_datasaurus)
```

-   produce a dataframe that has not just mean of x, but also the
    following summary statistics in appropriately named columns:
    -   mean of y
    -   median of x
    -   median of y
    -   variance of x
    -   variance of y
    -   correlation between x and y (found using the *cor()*)

```{r}
vars_datasaurus <- lab2_datasaurus %>% 
    group_by(dataset) %>% 
    summarize(
      mean_x = mean(x),
      mean_y = mean(y),
      median_y = median(y),
      var_x = var(x),
      var_y = var(y),
      cor_xy = cor(x,y)
    )

print (vars_datasaurus)
```

What do you observe? =\> I don't see much variance in each computed
variable. That is, each column has mostly similar values in ther rows.

## Q5. Combining two sources of data in a graph

Now let's try overlaying the (mean of x, mean of y) point for the
different datasets on this graph. To distinguish it from the other
datapoints you can make this overlaid plot larger in size. *(Hint:
remember that ggplot works with layers. I am asking you add a new layer
here overlaid on the previous ones)*

```{r}
ggplot(lab2_datasaurus, aes(x = x, y = y, color = dataset)) +
  geom_point() +
  facet_wrap(~ dataset) +
  scale_shape_manual(values=c(1:13)) +
  geom_point(data = vars_datasaurus, aes(x = mean_x, y = mean_y), color = "blue", size = 3)
```

## Q6. RMD vs. Quarto (QMD)

Open a new Quarto document. Attempt translating from this document into
Quarto the first 3 markdown and code chunks of this document. What
differences do you notice?

=> I don't actually see much difference between the two..?? The header looks a little different??

## Q7. Tasks with YAML Header (B)

You know that the output type is indicated in the YAML header. By
changing the header or using the knit dropdown, create outputs in Pdf,
html, and docx.

## Q8. Extracting the code back to r

On some occasions you have an r markdown file, but you may want to get
ride of the markdown and yaml, and extract just the r-code. This is
possible by using the following command

*knitr::purl("filename.Rmd")*

```{r}
#knitr::purl("Lab_02_YeajuDianaKim.Rmd")
```

As an exercise, use this command to save your current rmd file contents
as an R file.


### End of lab
